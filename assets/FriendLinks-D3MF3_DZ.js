import{r as v,c as f,j as V,y as i,z as n,A as s,K as k,P as p,a6 as g,O as o,D as y,V as j}from"./vendor-CeqXcVya.js";import{f as C}from"./friendLink-Ct1Qh6ee.js";import{_ as x}from"./index-BH5EIy1g.js";import"./particles-D6-XlEtG.js";const B={class:"friend-links"},$={class:"link-filters"},G=["onClick"],M={key:0,class:"loading-state"},U={key:1,class:"error-state"},W={key:2,class:"links-grid"},z=["onClick"],D={class:"link-avatar"},E=["src","alt"],H={class:"link-info"},J={class:"link-meta"},N={class:"link-category"},I={key:0,class:"link-tags"},K={class:"link-actions"},O=["href"],P={class:"visit-count"},T={key:3,class:"empty-state"},q={__name:"FriendLinks",setup(Q){const l=v("å…¨éƒ¨"),c=v([]),u=v(!1),r=v(""),b=f(()=>["å…¨éƒ¨",...new Set(c.value.map(e=>e.category))]),_=f(()=>{let t=c.value.filter(e=>e.isActive===!0);return l.value!=="å…¨éƒ¨"&&(t=t.filter(e=>e.category===l.value)),t}),h=async()=>{u.value=!0,r.value="";try{const t=await C.getFriendLinks();if(t.success)c.value=t.data.friendLinks||t.data;else throw new Error(t.message||"è·å–å‹æƒ…é“¾æ¥å¤±è´¥")}catch(t){console.error("âŒ è·å–å‹æƒ…é“¾æ¥å¤±è´¥:",t),r.value=t.message||"è·å–å‹æƒ…é“¾æ¥å¤±è´¥ï¼Œè¯·ç¨åé‡è¯•",c.value=[{id:1,name:"Vue.js å®˜æ–¹æ–‡æ¡£",url:"https://vuejs.org",avatar:"https://vuejs.org/logo.svg",description:"Vue.js å®˜æ–¹æ–‡æ¡£ï¼Œæ¸è¿›å¼JavaScriptæ¡†æ¶",category:"å­¦ä¹ èµ„æº",isActive:!0,tags:["Vue","JavaScript","å‰ç«¯"],visitCount:150},{id:2,name:"GitHub",url:"https://github.com",avatar:"https://github.githubassets.com/images/modules/logos_page/GitHub-Mark.png",description:"å…¨çƒæœ€å¤§çš„ä»£ç æ‰˜ç®¡å¹³å°",category:"å·¥å…·ç½‘ç«™",isActive:!0,tags:["Git","å¼€æº","ä»£ç "],visitCount:89}]}finally{u.value=!1}},L=t=>{l.value=t},w=async t=>{try{await C.clickFriendLink(t._id||t.id),t.visitCount=(t.visitCount||0)+1}catch(e){console.error("è®°å½•è®¿é—®å¤±è´¥:",e)}window.open(m(t.url),"_blank")},A=t=>t?"status-active":"status-inactive",F=t=>t?"æ­£å¸¸":"å¾…å®¡æ ¸",S=t=>t?t.startsWith("http")?t:`http://localhost:3000${t}`:"/image/default-logo.png",m=t=>t?t.startsWith("http://")||t.startsWith("https://")?t:"https://"+t:"#";return V(()=>{h()}),(t,e)=>(n(),i("div",B,[e[4]||(e[4]=s("h1",null,"å‹æƒ…é“¾æ¥",-1)),e[5]||(e[5]=s("div",{class:"intro-section"},[s("p",null,"æ¬¢è¿æ¥åˆ°å‹æƒ…é“¾æ¥é¡µé¢ï¼è¿™é‡Œæ”¶å½•äº†ä¸€äº›ä¼˜ç§€çš„ä¸ªäººåšå®¢å’ŒæŠ€æœ¯ç½‘ç«™ã€‚"),s("p",null,"å¸Œæœ›è¿™äº›ç½‘ç«™èƒ½å¯¹ä½ æœ‰æ‰€å¸®åŠ©ï¼Œä¸€èµ·åœ¨äº’è”ç½‘çš„ä¸–ç•Œé‡Œæ¢ç´¢å­¦ä¹ å§ï¼")],-1)),s("div",$,[(n(!0),i(p,null,g(b.value,a=>(n(),i("button",{key:a,onClick:d=>L(a),class:y([{active:l.value===a},"category-btn"])},o(a),11,G))),128))]),u.value?(n(),i("div",M,e[1]||(e[1]=[s("p",null,"æ­£åœ¨åŠ è½½å‹æƒ…é“¾æ¥...",-1)]))):r.value?(n(),i("div",U,[e[2]||(e[2]=s("h3",null,"åŠ è½½å¤±è´¥",-1)),s("p",null,o(r.value),1),s("button",{onClick:h,class:"retry-btn"},"é‡è¯•")])):(n(),i("div",W,[(n(!0),i(p,null,g(_.value,a=>(n(),i("div",{key:a._id||a.id,class:"link-card",onClick:d=>w(a)},[s("div",D,[s("img",{src:S(a.avatar),alt:a.name},null,8,E)]),s("div",H,[s("h3",null,o(a.name),1),s("p",null,o(a.description||"æš‚æ— æè¿°"),1),s("div",J,[s("span",N,o(a.category),1),s("span",{class:y(["link-status",A(a.isActive)])},o(F(a.isActive)),3)]),a.tags&&a.tags.length?(n(),i("div",I,[(n(!0),i(p,null,g(a.tags,d=>(n(),i("span",{key:d,class:"tag"},o(d),1))),128))])):k("",!0)]),s("div",K,[s("a",{href:m(a.url),target:"_blank",class:"visit-btn",onClick:e[0]||(e[0]=j(()=>{},["stop"]))}," ğŸ”— è®¿é—® ",8,O),s("span",P,"è®¿é—®: "+o(a.visitCount||0),1)])],8,z))),128))])),!u.value&&!r.value&&_.value.length===0?(n(),i("div",T,e[3]||(e[3]=[s("h3",null,"æš‚æ— å‹é“¾",-1),s("p",null,"è¯¥åˆ†ç±»ä¸‹è¿˜æ²¡æœ‰å‹æƒ…é“¾æ¥",-1)]))):k("",!0)]))}},tt=x(q,[["__scopeId","data-v-066148a0"]]);export{tt as default};
