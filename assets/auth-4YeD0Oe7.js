import{c as r}from"./index-BH5EIy1g.js";import"./vendor-CeqXcVya.js";import"./particles-D6-XlEtG.js";const o=r.create({baseURL:"http://localhost:3000/api",timeout:5e3});o.interceptors.request.use(e=>{const t=localStorage.getItem("token");return t&&(e.headers.Authorization=`Bearer ${t}`),e},e=>Promise.reject(e));o.interceptors.response.use(e=>e.data,e=>{var t;return((t=e.response)==null?void 0:t.status)===401&&(localStorage.removeItem("token"),localStorage.removeItem("user"),window.location.href="/login"),Promise.reject(e)});const l={setAuth:(e,t)=>{localStorage.setItem("token",e),localStorage.setItem("user",JSON.stringify(t))},getAuth:()=>{const e=localStorage.getItem("token"),t=JSON.parse(localStorage.getItem("user"));return{token:e,user:t}},clearAuth:()=>{localStorage.removeItem("token"),localStorage.removeItem("user")},isAuthenticated:()=>!!localStorage.getItem("token")};export{l as authStorage,o as default};
